// // ### ğŸ“ ä¿®å¤æ‘˜è¦

// // 1.  **(é—®é¢˜ 1) è®¾ç½®æŒ‰é’®ä½ç½®:**

// //       * **ä¿®å¤:** å·²ä¿®æ”¹ `lib/features/settings/settings_icon.dart`ã€‚
// //       * **æ“ä½œ:** åæ ‡å·²ä» `top: 10, right: 10` æ›´æ–°ä¸º `top: 30, right: 30`ã€‚

// // 2.  **ï¼ˆé—®é¢˜ 2 & 3) ç©¿é€æŒ‰é’®å¤±æ•ˆ & èƒŒæ™¯æ‹–æ‹½:**

// //       * **åŸå› :** è¿™ä¸¤ä¸ªé—®é¢˜æ˜¯åŒä¸€ä¸ª Bugã€‚æˆ‘ä¹‹å‰åœ¨ `app_view.dart` ä¸­ï¼Œå°†*æ•´ä¸ª*å±å¹•ï¼ˆåŒ…æ‹¬èƒŒæ™¯ï¼‰éƒ½åŒ…è£¹åœ¨äº†ä¸€ä¸ª `GestureDetector` (æ‰‹åŠ¿æ£€æµ‹å™¨) ä¸­ã€‚è¿™ä¸ªæ£€æµ‹å™¨**å¯¼è‡´é€æ˜èƒŒæ™¯åŒºåŸŸå§‹ç»ˆâ€œå¯ç‚¹å‡»â€**ï¼Œå› æ­¤ `platform_service.setClickThrough()` (è®¾ç½®ç©¿é€) çš„è°ƒç”¨*çœ‹èµ·æ¥*å°±åƒå¤±æ•ˆäº†ï¼ˆå®ƒç¡®å®ç©¿é€äº†ï¼Œä½†æ‰‹åŠ¿æ£€æµ‹å™¨åˆæŠŠå®ƒæ‹¦ä¸‹äº†ï¼‰ã€‚
// //       * **ä¿®å¤:** æˆ‘å·²**é‡æ„ `app_view.dart`**ã€‚
// //       * **æ“ä½œ:** ç°åœ¨ï¼Œä»…å½“â€œç‚¹å‡»ç©¿é€â€**å…³é—­**æ—¶ï¼Œæ‰ä¼šåœ¨ `Stack` çš„æœ€åº•å±‚ï¼ˆæ¡Œå® *åæ–¹*ï¼‰åŠ¨æ€æ·»åŠ ä¸€ä¸ªç”¨äºæ‹–æ‹½èƒŒæ™¯çš„ `GestureDetector`ã€‚å½“â€œç‚¹å‡»ç©¿é€â€**å¼€å¯**æ—¶ï¼Œè¿™ä¸ªèƒŒæ™¯æ£€æµ‹å™¨ä¼šè¢«å½»åº•ç§»é™¤ï¼Œçª—å£èƒŒæ™¯åŒºåŸŸä¼šç«‹åˆ»å˜ä¸ºå¯ç©¿é€ã€‚
// //       * **ç»“æœ:** **é—®é¢˜ 2 (ç©¿é€) å’Œ é—®é¢˜ 3 (èƒŒæ™¯æ‹–æ‹½) å·²åŒæ—¶ä¿®å¤ã€‚**

// // 3.  **ï¼ˆé—®é¢˜ 4) æœ€å°åŒ–ç¼©å° & æ¨è¾¹ç•Œ:**

// //       * **ä¿®å¤:** æˆ‘å·²**é‡æ„ `lib/features/character/character_view.dart`** ä»¥æ”¯æŒç¼©æ”¾ã€‚
// //       * **æ“ä½œ (ç¼©å°):**
// //         1.  `CharacterView` ç°åœ¨ä¼šç›‘å¬çª—å£çŠ¶æ€ `WindowState`ã€‚
// //         2.  å½“çª—å£æœ€å°åŒ–æ—¶ï¼Œå®ƒä¼šå†…éƒ¨è®¡ç®—ä¸€ä¸ª `_scale = 0.5` çš„ç¼©æ”¾å› å­ã€‚
// //         3.  æ¡Œå® çš„ç‚¹å‡»åŒºåŸŸ (`Positioned`) å’Œ åŠ¨ç”» (`SizedBox` + `CharacterAnimator`) ä¼šè¢«**è‡ªåŠ¨ç¼©æ”¾åˆ° 0.5 å€** (175x200)ã€‚
// //       * **æ“ä½œ (æ¨è¾¹ç•Œ Bug):**
// //         1.  æ‚¨åœ¨æœ€å°åŒ–æ—¶æ— æ³•è§¦å‘æ¨è¾¹ç•Œï¼ˆé™¤äº†åº•éƒ¨ï¼‰ï¼Œæ˜¯å› ä¸ºæˆ‘ä¹‹å‰çš„ä»£ç åœ¨è®¡ç®—ç¢°æ’æ—¶ï¼Œ*ä»ç„¶*é”™è¯¯åœ°ä½¿ç”¨äº† 400px çš„åŸå§‹é«˜åº¦ï¼Œå¯¼è‡´ Y è½´çš„ clamping (é’³åˆ¶) é€»è¾‘å‡ºé”™ã€‚
// //         2.  åœ¨è¿™æ¬¡â€œç¼©å°â€é‡æ„ä¸­ï¼Œæ¡Œå® æ‰€æœ‰çš„ç‰©ç†é€»è¾‘ï¼ˆè¡Œèµ° `_onWalkTick`ã€æ‹–æ‹½ `_onPanUpdate`ï¼‰ç°åœ¨**éƒ½ä¼šæ­£ç¡®ä½¿ç”¨ç¼©æ”¾åçš„å°ºå¯¸** (ä¾‹å¦‚ 175x200) æ¥è®¡ç®—ç¢°æ’å’Œè¾¹ç•Œã€‚
// //       * **ç»“æœ:** **æœ€å°åŒ–æ—¶æ¡Œå® ä¼šç¼©å°ï¼Œå¹¶ä¸”åœ¨æ‰€æœ‰è¾¹ç¼˜éƒ½èƒ½æ­£ç¡®è§¦å‘â€œæ¨è¾¹ç•Œâ€åŠ¨ç”»ã€‚**

// // -----

// // ### ğŸ“ ä¿®æ”¹çš„æ–‡ä»¶ (å…± 3 ä¸ª)

// // `lib/features/settings/settings_icon.dart` (ä¿®å¤é—®é¢˜ 1)

// // ```dart
// // lib/features/settings/settings_icon.dart
// // (æ¨¡å— 6) V7.1 (2.7.1): è®¾ç½®é½¿è½®å›¾æ ‡
// // (V7.2.6 (Fix) ä¿®å¤: Linter è­¦å‘Š)
// // (V7.2.7 (Fix) ä¿®å¤: ä¿®å¤å› é”™è¯¯åæ ‡ (top: -200) å¯¼è‡´çš„å›¾æ ‡ä¸å¯è§/ä¸å¯ç‚¹é—®é¢˜)
// // (V7.2.8 (Fix) ä¿®å¤: è°ƒæ•´ä½ç½® (top:0, right:0) -> (top:10, right:10))
// // (V7.2.9 (Fix) ä¿®å¤: è°ƒæ•´ä½ç½® (top:10, right:10) -> (top:30, right:30))

// import 'package:flutter/material.dart';
// import 'package:flutter_riverpod/flutter_riverpod.dart';
// // (V7.2.8) ç§»é™¤: kPetWidth/kPetHeight å·²ä¸å†éœ€è¦
// // import 'package:turtle_soup_companion_demo/core/utils/app_constants.dart';
// // V7.2.4 (æ¨¡å— 6): å¯¼å…¥ä¸Šä¸‹æ–‡èœå•
// import 'package:turtle_soup_companion_demo/features/settings/app_context_menu.dart';

// /// (æ¨¡å— 6) V7.1 (2.7.1): è®¾ç½®é½¿è½®å›¾æ ‡
// ///
// /// èŒè´£:
// /// 1. æ˜¾ç¤ºåœ¨æ¡Œå® å³ä¸Šè§’ (ç”± character_view.dart çš„ Stack æ§åˆ¶)ã€‚
// /// 2. (V7.1) åœ¨ Offline çŠ¶æ€ä¸‹ä¾ç„¶å¯è§ã€‚
// /// 3. ç‚¹å‡»æ—¶, å¼¹å‡º app_context_menu.dart (V7.1 æ–¹æ¡ˆ 2.7.2)ã€‚
// class SettingsIcon extends ConsumerWidget {
//   const SettingsIcon({super.key});

//   @override
//   Widget build(BuildContext context, WidgetRef ref) {
//     // V7.1 (2.7.1) è§„èŒƒ: å›¾æ ‡ 24x24
//     const double iconSize = 24.0;

//     // V7.2.4 (æ¨¡å— 6) å®šä½:
//     // character_view.dart ä¸­çš„ Stack(alignment: center)
//     // ä½¿å¾— (0,0) æˆä¸º kPetWidth/kPetHeight çŸ©å½¢çš„ä¸­å¿ƒã€‚
//     //
//     // (V7.2.7 (Fix) ä¿®å¤:
//     // æˆ‘ä»¬éœ€è¦å°†å›¾æ ‡å®šä½åœ¨ 350x400 çš„ Stack çš„å³ä¸Šè§’ã€‚
//     // (V7.2.8) ä¿®å¤: å¢åŠ  10px å†…è¾¹è·)

//     return Positioned(
//       // --- (V7.2.7) ä¿®å¤å¼€å§‹ ---
//       // (æ—§çš„é”™è¯¯ä»£ç :
//       //  left: (kPetWidth / 2) - iconSize, // 151
//       //  top: -(kPetHeight / 2),           // -200 (è¿™æ˜¯å¯¼è‡´é—®é¢˜çš„æ ¹æº)
//       // )

//       // (æ–°çš„æ­£ç¡®ä»£ç )
//       // (V7.2.9) ä¿®å¤: è°ƒæ•´è¾¹è·
//       top: 30,
//       right: 30,
//       // --- (V7.2.7) ä¿®å¤ç»“æŸ ---

//       width: iconSize,
//       height: iconSize,
//       child: GestureDetector(
//         // V7.1 (2.7.2): ç‚¹å‡»æ—¶å¼¹å‡ºèœå•
//         onTapDown: (details) {
//           // V7.2.4 (æ¨¡å— 6): æ˜¾ç¤ºä¸Šä¸‹æ–‡èœå•
//           showAppContextMenu(context, details.globalPosition, ref);
//         },
//         child: Tooltip(
//           message: "è®¾ç½®", // V7.1 (2.7.1) è§„èŒƒ
//           child: Container(
//             // V7.2.4 (æ¨¡å— 6) å ä½ç¬¦:
//             // (è§„èŒƒè¦æ±‚ä½¿ç”¨ assets/icons/settings_gear.png)
//             // (æˆ‘ä»¬ä½¿ç”¨ Material å›¾æ ‡ä½œä¸ºæ›¿ä»£)
//             decoration: BoxDecoration(
//               // V7.2.6 (Fix) ä¿®å¤: deprecated_member_use
//               // color: Colors.black.withOpacity(0.5),
//               color: Colors.black.withAlpha(128), // 0.5 * 255 ~= 128
//               shape: BoxShape.circle,
//             ),
//             child: const Icon(
//               Icons.settings,
//               color: Colors.white,
//               size: 18.0, // (24x24 å®¹å™¨, 18.0 å›¾æ ‡)
//             ),
//           ),
//         ),
//       ),
//     );
//   }
// }
